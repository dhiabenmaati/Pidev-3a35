{% extends 'BaseBackOffice.html.twig' %}

{% block content %}
	<div style="width: 90%;" class="mx-5 my-2">
    <!-- Error messages -->
    {% for msg in app.flashes('error') %}
    <div class="alert alert-danger alert-dismissible fade show" role="alert">
        {{ msg }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
    </div>
    {% endfor %}
    <!-- END Error messages-->

    <!-- Success messages -->
    {% for msg in app.flashes('info') %}
    <div class="alert alert-success alert-dismissible fade show" role="alert">
        {{ msg }}
    <button type="button" class="close" data-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>

    </div>
    {% endfor %}
    <!-- END Success messages-->
<table class="table">
    <thead>
        <tr>
            <th scope="col">ID Commande</th>
            <th scope="col">ID Utilisateur</th>
            <th scope="col">Date Creation</th>
            <th scope="col">Date Expédiré</th>
            <th scope="col">ID Livreur</th>
            <th scope="col">Status</th>
            <th scope="col"></th>
        </tr>
    </thead>
    <tbody id="commande">
        {% for commande in commandes %}
        <tr>
            <th scope="row">{{ commande.id }}</th>
            <th scope="row">{{ commande.user.id }}</th>
            <th scope="row">{{ commande.datecreer|date('d/m/Y') }}</th>
            {% if commande.dateexpedirer == NULL %}
                <th scope="row">-</th>
            {% else %}
                <th scope="row">{{ commande.dateexpedirer|date('d/m/Y') }}</th>
            {% endif %}
            {% if commande.livreur == NULL %}
                <th scope="row">-</th>
            {% else %}
                <th scope="row">{{ commande.livreur.id }}</th>
            {% endif %}
            <th scope="row">
            {% if commande.status == 0 %}
                En cours de réparation
            {% elseif commande.status == 1 %}
                En cours de laivrison
            {% else %}
                Livré
            {% endif %}
            </th>
            <th scope="row">
                <a href="{{ path('detail_commande_livreur', { id : commande.id }) }}" class="btn btn-info btn-sm">Détail</a>
                <a href="{{ path('update_commande', { id : commande.id }) }}" class="btn btn-warning btn-sm">Modifier</a>
            </th>
        </tr>
    {% endfor %}
    </tbody>
    </table>
</div>
{% endblock %}